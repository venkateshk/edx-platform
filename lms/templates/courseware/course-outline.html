## mako

<%namespace name='static' file='../static_content.html'/>

<%!
from django.utils.translation import ugettext as _
%>

<%static:require_module_async module_name="js/courseware/course_outline_factory" class_name="CourseOutlineFactory">
    CourseOutlineFactory('.block-tree');
</%static:require_module_async>

<section class="course-outline" id="main">
    <ul class="block-tree" role="tree">
        % for section in blocks.get('children') or []:
            <li
                aria-expanded="true"
                class="section-name outline-item focusable"
                id="${ section['id'] }"
                role="treeitem"
                tabindex="0"
            >
                <span class="icon fa fa-chevron-down" aria-hidden="true"></span>
                ${ section['display_name'] }
            </li>
            <ul class="outline-item focusable" role="group" tabindex="0">
                % for subsection in section.get('children') or []:
                    <li role="treeitem" tabindex="-1" aria-expanded="true">
                        <a
                            class="outline-item focusable"
                            href="${ subsection['lms_web_url'] }"
                            id="${ subsection['id'] }"
                        >
                            ${ subsection['display_name'] }
                        </a>
                    </li>
                % endfor
            </ul>
        % endfor
    </ul>
</section>
